# ================================
# FiyatIQ - Environment Configuration
# ================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env file to version control

# ================================
#  AI Configuration
# ================================
# Google Gemini AI API Key
GEMINI_API_KEY=Your_Google_Gemini_API_Key_Here

# Gemini model version - using gemini-2.0-flash for better performance
GEMINI_MODEL=gemini-2.0-flash

# AI model parameters
GEMINI_TEMPERATURE=0.3
GEMINI_MAX_TOKENS=2048
GEMINI_TOP_P=0.95
GEMINI_TOP_K=40

# Token usage limits (requests per minute)
GEMINI_RATE_LIMIT_PER_MINUTE=60
GEMINI_DAILY_TOKEN_LIMIT=1000000

# ================================
#  Security Configuration
# ================================
# JWT Secret Key - CHANGE THIS IN PRODUCTION!
# Generate a secure key: openssl rand -hex 32
SECRET_KEY=Your_Secure_Secret_Key_Here

# JWT Token Settings
ACCESS_TOKEN_EXPIRE_MINUTES=1440
REFRESH_TOKEN_EXPIRE_MINUTES=10080
ALGORITHM=HS256

# Security Limits
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_MINUTES=30
PASSWORD_MIN_LENGTH=8

# ================================
#  Database Configuration
# ================================
# Database URL - SQLite by default, can be changed to PostgreSQL/MySQL
DATABASE_URL=sqlite:///./fiyatiq.db

# For PostgreSQL (optional):
# DATABASE_URL=postgresql://username:password@localhost:5432/fiyatiq_db

# For MySQL (optional):
# DATABASE_URL=mysql://username:password@localhost:3306/fiyatiq_db

# Database settings
DB_ECHO=false
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# ================================
#  API & CORS Configuration
# ================================
# API Settings
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=true

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# ================================
#  Email Configuration (Optional)
# ================================
# SMTP Settings for email verification and notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Email settings
FROM_EMAIL=noreply@fiyatiq.com
FROM_NAME=FiyatIQ Support

# ================================
#  Rate Limiting & API Limits
# ================================
# Rate limiting settings
RATE_LIMIT_ENABLED=true
DEFAULT_RATE_LIMIT=100/minute
AUTH_RATE_LIMIT=10/minute
PREDICTION_RATE_LIMIT=30/minute

# API request limits
MAX_REQUESTS_PER_DAY=1000
MAX_PREDICTIONS_PER_USER_PER_DAY=50
MAX_VEHICLES_PER_USER=20

# ================================
#  Web Scraping Configuration
# ================================
# Web scraping settings
SCRAPING_ENABLED=true
SCRAPING_RATE_LIMIT=30/minute
SCRAPING_USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36

# External APIs for market data (optional)
SAHIBINDEN_API_KEY=optional_api_key
ARABAM_API_KEY=optional_api_key

# ================================
#  Background Tasks & Caching
# ================================
# Redis configuration (optional, for caching and background tasks)
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=false

# Background task settings
ENABLE_BACKGROUND_TASKS=true
MARKET_DATA_UPDATE_INTERVAL=3600
CACHE_TTL=1800

# ================================
#  Monitoring & Logging
# ================================
# Logging configuration
LOG_LEVEL=INFO
LOG_FILE=logs/fiyatiq.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5

# Monitoring
ENABLE_METRICS=true
ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_INTERVAL=60

# ================================
#  Feature Flags
# ================================
# Feature toggles
ENABLE_USER_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=false
ENABLE_DETAILED_PREDICTIONS=true
ENABLE_MARKET_COMPARISON=true
ENABLE_PRICE_ALERTS=false

# ================================
#  Localization
# ================================
# Language and region settings
DEFAULT_LANGUAGE=tr
DEFAULT_CURRENCY=TRY
DEFAULT_REGION=TR

# ================================
#  Development Settings
# ================================
# Development mode settings
DEVELOPMENT_MODE=true
DEBUG_SQL_QUERIES=false
ENABLE_SWAGGER_DOCS=true
ENABLE_REDOC=true

# Testing settings
TEST_MODE=false
MOCK_AI_RESPONSES=false

# ================================
#  Business Logic Configuration
# ================================
# Price calculation settings
MIN_VEHICLE_YEAR=1990
MAX_VEHICLE_YEAR=2025
MIN_PRICE_ESTIMATE=5000
MAX_PRICE_ESTIMATE=10000000

# Depreciation factors
DEPRECIATION_FACTOR_BOYALI=0.85
DEPRECIATION_FACTOR_DEGISEN=0.70
DEPRECIATION_FACTOR_HASARLI=0.55

# Market analysis weights
MARKET_CONDITION_WEIGHT=0.3
VEHICLE_CONDITION_WEIGHT=0.4
REGIONAL_FACTOR_WEIGHT=0.2
SEASONAL_FACTOR_WEIGHT=0.1
